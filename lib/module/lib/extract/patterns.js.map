{"version":3,"sources":["patterns.js"],"names":["rgba","patterns","patternReg","LinearGradientGenerator","RadialGradientGenerator","isGradient","obj","set","id","pattern","remove","patternSting","opacity","svgId","matched","match","patternName","rgbaString"],"mappings":"AAAA,MAAOA,CAAAA,IAAP,KAAiB,SAAjB,CACA,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CAEA,OAAQC,uBAAR,KAAsC,+BAAtC,CACA,OAAQC,uBAAR,KAAsC,+BAAtC,CAGA,QAASC,CAAAA,UAAT,CAAoBC,GAApB,CAAyB,CACrB,MAAOA,CAAAA,GAAG,WAAYH,CAAAA,uBAAf,EAA0CG,GAAG,WAAYF,CAAAA,uBAAhE,CACH,CAED,QAASG,CAAAA,GAAT,CAAaC,EAAb,CAAiBC,OAAjB,CAA0B,CACtBR,QAAQ,CAACO,EAAD,CAAR,CAAeC,OAAf,CACH,CAED,QAASC,CAAAA,MAAT,CAAgBF,EAAhB,CAAoB,CAChB,MAAOP,CAAAA,QAAQ,CAACO,EAAD,CAAf,CACH,CAED,OACID,GADJ,CAEIG,MAFJ,EAKA,cAAe,UAASC,YAAT,CAAuBC,OAAvB,CAAgCC,KAAhC,CAAuC,CAClD,GAAIR,UAAU,CAACM,YAAD,CAAd,CAA8B,CAC1B,MAAOA,CAAAA,YAAP,CACH,CAGD,GAAIG,CAAAA,OAAO,CAAGH,YAAY,CAACI,KAAb,CAAmBb,UAAnB,CAAd,CAEA,GAAIY,OAAJ,CAAa,CACT,GAAIE,CAAAA,WAAW,CAAMF,OAAO,CAAC,CAAD,CAAb,KAAoBD,KAAnC,CACA,GAAIJ,CAAAA,OAAO,CAAGR,QAAQ,CAACe,WAAD,CAAtB,CAEA,GAAIP,OAAJ,CAAa,CACT,MAAOA,CAAAA,OAAO,CAACG,OAAD,CAAd,CACH,CACD,MAAO,KAAP,CACH,CAED,MAAOZ,CAAAA,IAAI,CAACW,YAAD,CAAeC,OAAf,CAAJ,CAA4BK,UAA5B,EAAP,CACH","sourcesContent":["import rgba from '../rgba';\nlet patterns = {};\nimport patternReg from './patternReg';\n\nimport {LinearGradientGenerator} from '../../elements/LinearGradient';\nimport {RadialGradientGenerator} from '../../elements/RadialGradient';\n\n\nfunction isGradient(obj) {\n    return obj instanceof LinearGradientGenerator || obj instanceof RadialGradientGenerator;\n}\n\nfunction set(id, pattern) {\n    patterns[id] = pattern;\n}\n\nfunction remove(id) {\n    delete patterns[id];\n}\n\nexport {\n    set,\n    remove\n};\n\nexport default function(patternSting, opacity, svgId) {\n    if (isGradient(patternSting)) {\n        return patternSting;\n    }\n\n    // 尝试匹配 \"url(#pattern)\"\n    let matched = patternSting.match(patternReg);\n\n    if (matched) {\n        let patternName = `${matched[1]}:${svgId}`;\n        let pattern = patterns[patternName];\n\n        if (pattern) {\n            return pattern(opacity);\n        }\n        return null;\n    }\n\n    return rgba(patternSting, opacity).rgbaString();\n}\n"]}