{"version":3,"sources":["patterns.js"],"names":["patterns","isGradient","obj","LinearGradientGenerator","RadialGradientGenerator","set","id","pattern","remove","patternSting","opacity","svgId","matched","match","patternReg","patternName","rgbaString"],"mappings":"2MAAA,qDAEA,gEAEA,6DACA,6DAJA,GAAIA,CAAAA,QAAQ,CAAG,EAAf,CAOA,QAASC,CAAAA,UAAT,CAAoBC,GAApB,CAAyB,CACrB,MAAOA,CAAAA,GAAG,WAAYC,wCAAf,EAA0CD,GAAG,WAAYE,wCAAhE,CACH,CAED,QAASC,CAAAA,GAAT,CAAaC,EAAb,CAAiBC,OAAjB,CAA0B,CACtBP,QAAQ,CAACM,EAAD,CAAR,CAAeC,OAAf,CACH,CAED,QAASC,CAAAA,MAAT,CAAgBF,EAAhB,CAAoB,CAChB,MAAON,CAAAA,QAAQ,CAACM,EAAD,CAAf,CACH,CAOc,kBAASG,YAAT,CAAuBC,OAAvB,CAAgCC,KAAhC,CAAuC,CAClD,GAAIV,UAAU,CAACQ,YAAD,CAAd,CAA8B,CAC1B,MAAOA,CAAAA,YAAP,CACH,CAGD,GAAIG,CAAAA,OAAO,CAAGH,YAAY,CAACI,KAAb,CAAmBC,mBAAnB,CAAd,CAEA,GAAIF,OAAJ,CAAa,CACT,GAAIG,CAAAA,WAAW,CAAMH,OAAO,CAAC,CAAD,CAAb,KAAoBD,KAAnC,CACA,GAAIJ,CAAAA,OAAO,CAAGP,QAAQ,CAACe,WAAD,CAAtB,CAEA,GAAIR,OAAJ,CAAa,CACT,MAAOA,CAAAA,OAAO,CAACG,OAAD,CAAd,CACH,CACD,MAAO,KAAP,CACH,CAED,MAAO,kBAAKD,YAAL,CAAmBC,OAAnB,EAA4BM,UAA5B,EAAP,CACH","sourcesContent":["import rgba from '../rgba';\nlet patterns = {};\nimport patternReg from './patternReg';\n\nimport {LinearGradientGenerator} from '../../elements/LinearGradient';\nimport {RadialGradientGenerator} from '../../elements/RadialGradient';\n\n\nfunction isGradient(obj) {\n    return obj instanceof LinearGradientGenerator || obj instanceof RadialGradientGenerator;\n}\n\nfunction set(id, pattern) {\n    patterns[id] = pattern;\n}\n\nfunction remove(id) {\n    delete patterns[id];\n}\n\nexport {\n    set,\n    remove\n};\n\nexport default function(patternSting, opacity, svgId) {\n    if (isGradient(patternSting)) {\n        return patternSting;\n    }\n\n    // 尝试匹配 \"url(#pattern)\"\n    let matched = patternSting.match(patternReg);\n\n    if (matched) {\n        let patternName = `${matched[1]}:${svgId}`;\n        let pattern = patterns[patternName];\n\n        if (pattern) {\n            return pattern(opacity);\n        }\n        return null;\n    }\n\n    return rgba(patternSting, opacity).rgbaString();\n}\n"]}